# Проект системы управления проектами

## Описание проекта
Современное веб-приложение для управления проектами, задачами и совещаниями с детальными карточками и полноценным календарем. Реализована полная экосистема для планирования и отслеживания работы команды.

## Технический стек
- **Frontend**: React 18 + TypeScript
- **Сборка**: Vite 4.5.14
- **Стилизация**: Tailwind CSS (utility-first)
- **Иконки**: Lucide React (современные SVG)
- **Язык**: TypeScript (строгая типизация)

## Архитектура приложения

### Структура проекта
```
src/
├── components/
│   ├── TaskCard.tsx          # Детальная карточка задачи (26+ полей)
│   ├── MeetingCard.tsx       # Карточка совещания с участниками
│   ├── DayView.tsx           # Календарь: дневной вид с временной сеткой
│   ├── WeekView.tsx          # Календарь: недельный вид (Пн-Вс)
│   └── MonthView.tsx         # Календарь: месячный вид с событиями
├── App.tsx                   # Главный компонент приложения (900+ строк)
├── main.tsx                  # Точка входа
└── index.css                 # Стили Tailwind CSS

.claude/                      # Claude Code интеграция
├── hooks/
│   └── session-logger.py     # Логирование сессий (кросс-платформенное)
├── logs/                     # Автоматические логи разработки
└── settings.json             # Настройки хуков и переменных окружения

docs/                         # Техническая документация
├── task_structure_template.md      # Структура задач (26 полей)
├── meeting_structure_template.md   # Структура совещаний
├── calendar-interface.md           # ТЗ календарных компонентов
└── app_structure_md.md            # Архитектура приложения
```

### Ключевые функции (реализованы)

#### 1. **Управление проектами**
- Создание проектов и подпроектов
- Иерархическая структура с навигацией
- Связь задач и совещаний с проектами
- Статистика по проектам

#### 2. **Система задач** (26+ полей)
- **Основная информация**: название, описание, даты начала/окончания, время
- **Ответственные**: исполнитель, постановщик, участники, наблюдатели
- **Настройки**: приоритет, статус, проект, цвет события, повторяемость
- **Временные затраты**: планируемые и фактические часы
- **Результат**: ожидаемый результат и критерии приемки
- **Структура**: подзадачи, связанные задачи, теги
- **Уведомления**: напоминание о дедлайне, уведомления об изменениях

#### 3. **Календарь** (3 вида)
- **День**: почасовая сетка 0:00-24:00, красная линия текущего времени
- **Неделя**: 7 колонок (Пн-Вс), выходные выделены серым, текущий день подсвечен
- **Месяц**: сетка с событиями, при переполнении показывает "еще N..."
- **Навигация**: стрелки ←→, кнопка "Сегодня", клик по дате
- **События**: цветные блоки с продолжительностью, кликабельные

#### 4. **Совещания**
- **Планирование**: тип (стратегическое/рабочее), дата/время, продолжительность
- **Участники**: добавление/удаление, список доступных сотрудников  
- **Место**: выбор переговорных комнат из списка
- **Напоминания**: гибкая система (от 5 минут до 2 дней)
- **Интеграция**: связь с проектами, календарная синхронизация

#### 5. **Дашборд**
- Статистика: всего задач, выполненных, предстоящих совещаний
- Быстрый доступ к активным проектам
- Список всех задач и совещаний пользователя

### Структура данных

#### TaskData интерфейс (26 полей):
```typescript
interface TaskData {
  id: string; name: string; description: string;
  startDate: string; startTime: string; deadline: string; duration: string;
  assignee: string; creator: string; participants: string[]; watchers: string[];
  priority: string; project: string; status: string; 
  reminderTime: string; color: string; repeatType: string;
  plannedHours: string; actualHours: string;
  expectedResult: string; acceptanceCriteria: string[];
  subtasks: string[]; relatedTasks: string[]; tags: string[];
  notifyChanges: boolean; sendProgress: boolean; remindDeadline: boolean;
}
```

#### MeetingData интерфейс:
```typescript  
interface MeetingData {
  id: string; name: string; type: 'Стратегическое' | 'Рабочее';
  startDate: string; startTime: string; endDate: string; endTime: string;
  duration: string; timezone: string;
  calendar: { name: string; color: string; };
  repeatType: string; location: string; participants: string[];
  description: string; reminders: string[]; eventColor: string;
  busyStatus: 'Занят' | 'Под вопросом' | 'Свободен';
  notifyParticipants: boolean; projectId?: string; subprojectId?: string;
}
```

## Команды проекта

### Разработка
```bash
npm run dev        # Запуск dev сервера (http://localhost:5173/)
npm run build      # Сборка для продакшена
npm run preview    # Предварительный просмотр сборки
npm run lint       # Проверка кода ESLint
```

### Тестирование
```bash
# Пока не настроено - планируется добавить
```

## Соглашения по коду

### TypeScript
- Строгая типизация включена
- Все компоненты должны иметь типы пропсов
- Использовать интерфейсы для сложных объектов

### React
- Функциональные компоненты с хуками
- Состояние управляется через useState/useEffect
- Компоненты должны быть переиспользуемыми

### Стилизация
- Tailwind CSS для всех стилей
- Следовать дизайн-системе с цветами:
  - Синий: основной цвет интерфейса
  - Серый: нейтральные элементы
  - Зеленый: успешные действия
  - Красный: ошибки и предупреждения

### Архитектурные принципы

#### **Компонентная архитектура:**
- **Атомарные компоненты** - каждый компонент отвечает за одну функцию
- **Переиспользуемость** - компоненты проектируются для multiple use cases
- **Композиция** - сложная функциональность собирается из простых блоков
- **Props drilling минимизация** - состояние поднимается только при необходимости

#### **Управление состоянием:**
- **Централизованное состояние** в `App.tsx` (900+ строк логики)
- **Локальное состояние** в компонентах для UI взаимодействий
- **Immutable updates** - все изменения через setState с новыми объектами
- **Типизированное состояние** - все useState с явными типами

#### **TypeScript стратегия:**
- **Строгая типизация** - noImplicitAny, strict mode включены
- **Интерфейсы над типами** - для сложных объектов данных
- **Readonly массивы** - где это уместно для предотвращения мутаций
- **Generics** - для переиспользуемых компонентов и функций

#### **CSS/Styling принципы:**
- **Tailwind-first** - никаких кастомных CSS классов без крайней необходимости
- **Responsive design** - mobile-first подход
- **Consistent spacing** - использование Tailwind spacing scale
- **Color system** - централизованная палитра (blue/gray/green/red)

## Техническое состояние проекта

### ✅ **Реализованные компоненты:**
- **App.tsx** (900+ строк) - главная логика приложения
- **TaskCard.tsx** (400+ строк) - детальная карточка задачи
- **MeetingCard.tsx** (500+ строк) - карточка совещания  
- **DayView.tsx** (200+ строк) - дневной календарь
- **WeekView.tsx** (300+ строк) - недельный календарь
- **MonthView.tsx** (200+ строк) - месячный календарь

### 📊 **Метрики проекта:**
- **Компоненты**: 6 основных + множество вложенных
- **Строки кода**: 2500+ строк TypeScript
- **Интерфейсы**: TaskData (26 полей), MeetingData (15+ полей)
- **Git коммиты**: детальная история с автоматической документацией

### 🔧 **Настройка Claude Code:**
- **Кросс-платформенные хуки** - работают на Windows и macOS
- **Автоматическое логирование** - все сессии сохраняются
- **UTF-8 кодировка** - корректное отображение кириллицы
- **Fallback логика** - работает даже без переменных окружения

## Планы развития (подробный roadmap)

- Пока нету, работаем

## История изменений

**Автоматическое отслеживание через:**
- **.claude/logs/** - JSON логи всех сессий разработки
- **Git commits** - детальная история с описаниями изменений
- **README.md roadmap** - отметки выполненных фич

## Быстрый старт для новых сессий Claude Code

### **Архитектура проекта:**
1. **React 18 + TypeScript + Vite** - современный стек
2. **App.tsx** - центральный компонент (900+ строк логики)  
3. **5 компонентов** - TaskCard, MeetingCard, DayView, WeekView, MonthView
4. **Tailwind CSS** - вся стилизация, никаких кастомных CSS
5. **Lucide React** - все иконки, консистентный стиль

### **Ключевые интерфейсы:**
- **TaskData** (26 полей) - полная структура задачи
- **MeetingData** (15+ полей) - структура совещания  
- **Все компоненты типизированы** - строгие пропсы

### **Команды разработки:**
```bash
npm run dev        # http://localhost:5173/
npm run build      # production build
npm run lint       # ESLint проверка
```

### **Текущий функционал:**
- ✅ Полная система проектов/подпроектов  
- ✅ Детальные карточки задач и совещаний
- ✅ 3-х видовой календарь с навигацией
- ✅ Кликабельные события, реальное время
- ✅ Claude Code логирование настроено